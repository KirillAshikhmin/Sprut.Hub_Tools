# Выключить весь свет
# Глобальный сценарий

## Выключает все лампы, выключатели и розетки в доме.

### Поддерживаемые типы устройств:
- **Лампы** (HS.Lightbulb) - всегда обрабатываются
- **Выключатели** (HS.Switch) - всегда обрабатываются  
- **Розетки** (HS.Outlet) - обрабатываются только при `turnOffOutlets = true`

### Параметры:
var excludeRoomsNames = ["Информер", "Комп", "Виртуальная", "Контрольная"]; //ID комнат, где не надо выключать свет
var excludeAccessoriesId = [130]; //ID устройств, которые не надо выключать
var turnOffHidden = false; // Отключать скрытые устройства
var turnOffOutlets = false; // Отключать розетки (выключено по умолчанию)
var turnOffAdditionalDevices = []; //ID устройств и сервисов для дополнительного отключения любых типов устройств
var turnOffLightDebug = false; // Активация дополнительного логгирования для отладки 

### Поддерживаемые форматы исключений устройств:

#### Исключение целых аксессуаров:
- Целые числа: `130`, `188`
- Строки: `"130"`, `"188"`
- Массивы: `[130, 188]`, `["130", "188"]`

#### Исключение конкретных сервисов:
- Дробные числа: `130.13` (аксессуар 130, сервис 13)
- Строки с точкой: `"130.13"` (аксессуар 130, сервис 13)
- Массивы: `[130.13, 188.5]`, `["130.13", "188.5"]`

#### Смешанные форматы:
- `[130, "188", 200.15, "300.20"]` - поддерживает все форматы в одном массиве

### Использование:

Вызывать из блочного сценария блоком кода:
```javascript
global.turnOffLight()
```

#### Примеры вызова с параметрами:

1. **Исключение комнат:**
   ```javascript
   global.turnOffLight(["Коридор", "Двор"])
   ```

2. **Исключение аксессуаров:**
   ```javascript
   global.turnOffLight([], [11, 42])
   ```

3. **Исключение конкретных сервисов:**
   ```javascript
   global.turnOffLight([], [130.13, 188.5])
   ```

4. **Смешанные исключения:**
   ```javascript
   global.turnOffLight(["Коридор"], [130, "188.15", 200.5])
   ```

### Настройка отключения розеток:

Для включения отключения розеток установите:
```javascript
var turnOffOutlets = true; // Включить отключение розеток
```

**Внимание:** По умолчанию розетки не отключаются (`turnOffOutlets = false`), так как это может привести к неожиданному отключению важных устройств (холодильник, серверы и т.д.).

### Дополнительные устройства для отключения:

Параметр `turnOffAdditionalDevices` позволяет отключать любые типы устройств по их идентификаторам:

```javascript
var turnOffAdditionalDevices = [130, 188.15, "200.13"]; // Отключить устройства 130, сервис 15 устройства 188, сервис 13 устройства 200
```

#### Поддерживаемые типы сервисов:
- **Switch** (Выключатель)
- **Lightbulb** (Лампочка)  
- **Outlet** (Розетка)
- **FanBasic** (Вентилятор простой)
- **AirPurifier** (Очиститель воздуха)
- **HeaterCooler** (Нагреватель охладитель)
- **HumidifierDehumidifier** (Увлажнитель осушитель)
- **Thermostat** (Термостат)
- **Door** (Дверь)
- **Faucet** (Водопроводный кран)
- **IrrigationSystem** (Система полива)
- **Valve** (Кран)
- **WindowCovering** (Штора)
- **Speaker** (Динамик)
- **Microphone** (Микрофон)
- **TelevisionSpeaker** (Телевизионный динамик)

#### Форматы идентификаторов:
- Целые числа: `130` (весь аксессуар)
- Дробные числа: `130.15` (аксессуар 130, сервис 15)
- Строки: `"130"`, `"130.15"`
- Массивы: `[130, 188.15, "200.13"]`

### Отладка:
Установите `turnOffLightDebug = true` для включения подробного логирования процесса исключений.